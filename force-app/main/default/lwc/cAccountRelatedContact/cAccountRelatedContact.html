<!-- sldsValidatorIgnore -->
<template>
    <article class="slds-card lightning-card slds-card_boundary">
        <div class="slds-page-header slds-grid slds-theme_shade slds-card_boundary">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                    <lightning-icon icon-name="custom:custom56" title="custom56" size="small"></lightning-icon>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <a href="#" class="slds-card__header-link slds-truncate" title="Contacts (3)">
                            <span>cContact</span>
                        </a>
                    </h2>
                </div>
                <div class="slds-no-flex">
                    <button onclick={navigateToNewContact} data-msg={recordId} class="slds-button slds-button_neutral">New</button>
                </div>
            </header>
        </div>
        <div class="slds-card__body slds-card__body_inner">
            <ul class="slds-grid slds-wrap slds-grid_pull-padded">
                <template if:true={record.data}>
                    <template for:each={record.data} for:item="con">
                        <li key={con.Id} class="slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-3">
                            <article class="slds-tile slds-media slds-card__tile slds-hint-parent">
                                <div class="slds-media__figure">
                                    <lightning-icon icon-name="custom:custom56" title="custom56"></lightning-icon>
                                </div>
                                <div class="slds-media__body">
                                    <div class="slds-grid slds-grid_align-spread slds-has-flexi-truncate">
                                        <h3 class="slds-tile__title slds-truncate">
                                            <a href="#">{con.Name}</a>
                                        </h3>
                                        <div class="slds-shrink-none">
                                            <div class="slds-p-around_medium lgc-bg slds-button_icon-x-small">
                                                <lightning-button-menu alternative-text="Show menu" icon-size="x-small">
                                                    <lightning-menu-item onclick={navigateToEditContact} data-msg={con.Id} value="Edit" label="Edit"></lightning-menu-item>
                                                    <lightning-menu-item onclick={navigateToDelContact} data-msg={con.Id} data-nm={con.Name} value="Delete" label="Delete"></lightning-menu-item>
                                                </lightning-button-menu>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-tile__detail">
                                        <dl class="slds-list_horizontal slds-wrap">
                                            <dt class="slds-item_label slds-text-color_weak slds-truncate">
                                                cTitle: </dt>
                                            <dd class="slds-item_detail slds-truncate">
                                                {con.cTitle__c}</dd>
                                            <dt class="slds-item_label slds-text-color_weak slds-truncate">
                                                cEmail: </dt>
                                            <dd class="slds-item_detail slds-truncate">
                                                <a href="#">{con.cEmail__c}</a></dd>
                                            <dt class="slds-item_label slds-text-color_weak slds-truncate">
                                                cPhone: </dt>
                                            <dd class="slds-item_detail slds-truncate">
                                                <a href="#">{con.cPhone__c}</a></dd>
                                        </dl>
                                    </div>
                                </div>
                            </article>
                        </li>
                    </template>           
                </template>
            </ul>
        </div>
        <footer class="slds-card__footer">
            <a class="slds-card__footer-action" onclick={handleViewAll}>View All
                <span class="slds-assistive-text">Contacts</span>
            </a>
        </footer>

        <template if:true={isShowModal}>
            <c-c-contact-multi-new record-id={recordId}></c-c-contact-multi-new>
        </template>
    </article>
</template>